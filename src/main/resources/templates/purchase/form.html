<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Create Purchase</title>
    <style> .error { color: red; font-size: 0.9em; } </style>
</head>
<body>

<h1>Create New Purchase</h1>

<form th:action="@{/purchase}" th:object="${purchase}" method="post">

    <div>
        <label for="customerId">Select Customer:</label>
        <select id="customerId" name="customerId">
            <option value="">-- Choose a Customer --</option>
            <option th:each="cust : ${customers}"
                    th:value="${cust.id}"
                    th:text="${cust.name} + ' (' + ${cust.email} + ')'">
            </option>
        </select>
    </div>

    <div>
        <label for="shopId">Select Shop:</label>
        <select id="shopId" name="shopId">
            <option value="">-- Choose a Shop --</option>
            <option th:each="shp : ${shops}"
                    th:value="${shp.id}"
                    th:text="${shp.name}">
            </option>
        </select>
    </div>

    <div>
        <label for="amount">Amount:</label>
        <input type="number" step="0.01" id="amount" th:field="*{amount}" />
        <span class="error" th:if="${#fields.hasErrors('amount')}" th:errors="*{amount}"></span>
    </div>

    <br>
    <div>
        <button type="submit">Save</button>
    </div>
</form>

<a href="/purchase">Back to List</a>

</body>
</html>